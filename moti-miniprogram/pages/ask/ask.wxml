<!-- 发起提问页面 -->
<view class="page {{darkMode ? 'dark' : ''}}">
  <view class="container">

    <!-- 顶部导航栏 -->
    <view class="nav-header" style="padding-top: {{statusBarHeight}}px;">
      <view class="nav-left" bindtap="handleCancel">
        <text class="nav-btn">取消</text>
      </view>
      <view class="nav-center">
        <text class="nav-title">发起提问</text>
      </view>
      <view class="nav-right" bindtap="handleSubmit">
        <text class="nav-btn {{submitting ? 'disabled' : ''}}">
          {{submitting ? '发布中...' : '发布'}}
        </text>
      </view>
    </view>

    <!-- 表单内容 -->
    <scroll-view class="form-content" scroll-y enhanced show-scrollbar="{{false}}">

      <!-- 分类选择 -->
      <view class="form-section">
        <view class="section-label">选择分类</view>
        <picker
          mode="selector"
          range="{{categories}}"
          range-key="name"
          bindchange="onCategoryChange"
        >
          <view class="picker-wrapper">
            <text class="picker-text" wx:if="{{categories.length > 0}}">
              {{categories[0].name}}
            </text>
            <text class="picker-text" wx:else>请选择分类</text>
            <text class="picker-arrow">›</text>
          </view>
        </picker>
      </view>

      <!-- 标题输入 -->
      <view class="form-section">
        <view class="section-label">标题</view>
        <input
          class="title-input"
          type="text"
          placeholder="请输入标题"
          placeholder-class="input-placeholder"
          value="{{title}}"
          bindinput="onTitleInput"
          maxlength="100"
        />
        <view class="char-count">{{title.length}}/100</view>
      </view>

      <!-- 内容输入 -->
      <view class="form-section content-section">
        <view class="section-label">内容</view>
        <textarea
          class="content-input"
          placeholder="请详细描述你的问题..."
          placeholder-class="input-placeholder"
          value="{{content}}"
          bindinput="onContentInput"
          maxlength="5000"
          auto-height
        />
        <view class="char-count">{{content.length}}/5000</view>
      </view>

      <!-- VIP 提示 -->
      <view class="vip-notice">
        <text class="notice-icon">ℹ️</text>
        <text class="notice-text">发布提问需要 VIP 权限</text>
      </view>

    </scroll-view>

  </view>
</view>
